{"remainingRequest":"/mnt/c/Users/matth/git/cos243/ride-share/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/c/Users/matth/git/cos243/ride-share/src/pages/ResetPassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/c/Users/matth/git/cos243/ride-share/src/pages/ResetPassword.vue","mtime":1605643025327},{"path":"/mnt/c/Users/matth/git/cos243/ride-share/node_modules/cache-loader/dist/cjs.js","mtime":1605136929726},{"path":"/mnt/c/Users/matth/git/cos243/ride-share/node_modules/babel-loader/lib/index.js","mtime":1605643974154},{"path":"/mnt/c/Users/matth/git/cos243/ride-share/node_modules/cache-loader/dist/cjs.js","mtime":1605136929726},{"path":"/mnt/c/Users/matth/git/cos243/ride-share/node_modules/vue-loader/lib/index.js","mtime":1605643980647}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgSW5zdHJ1Y3Rpb25zIGZyb20gIi4uL2NvbXBvbmVudHMvSW5zdHJ1Y3Rpb25zLnZ1ZSI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkNoYW5nZVBhc3N3b3JkUGFnZSIsDQogIGNvbXBvbmVudHM6IHsNCiAgICBJbnN0cnVjdGlvbnMsIC8vIFVzZSB0aGUgSW5zdHJ1Y3Rpb25zIGNvbXBvbmVudCB3ZSBqdXN0IGltcG9ydGVkDQogIH0sDQogIGRhdGE6IGZ1bmN0aW9uICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdmFsaWQ6IGZhbHNlLCAvLyBBcmUgYWxsIHRoZSBmaWVsZHMgaW4gdGhlIGZvcm0gdmFsaWQ/DQoNCiAgICAgIC8vIE9iamVjdCB0byBjb2xsZWN0IGFjY291bnQgZGF0YQ0KICAgICAgdXBkYXRlTWVtYmVyOiB7DQogICAgICAgIGVtYWlsOiAiIiwNCiAgICAgICAgcGFzc3dvcmQ6ICIiLA0KICAgICAgICBuZXdQYXNzd29yZDogIiIsDQogICAgICAgIGNvbmZpcm1OZXdQYXNzd29yZDogIiIsDQogICAgICB9LA0KDQogICAgICAvLyBXYXMgYW4gYWNjb3VudCBjcmVhdGVkIHN1Y2Nlc3NmdWxseT8NCiAgICAgIGFjY291bnRVcGRhdGVkOiBmYWxzZSwNCg0KICAgICAgLy8gRGF0YSB0byBiZSBkaXNwbGF5ZWQgYnkgdGhlIGRpYWxvZy4NCiAgICAgIGRpYWxvZ0hlYWRlcjogIjxubyBkaWFsb2dIZWFkZXI+IiwNCiAgICAgIGRpYWxvZ1RleHQ6ICI8bm8gZGlhbG9nVGV4dD4iLA0KICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsDQoNCiAgICAgIC8vIFZhbGlkYXRpb24gcnVsZXMgZm9yIHRoZSBmb3JtIGZpZWxkcy4gVGhpcyBmdW5jdGlvbmFsaXR5IGlzIGFuIGV4dGVuc2lvbg0KICAgICAgLy8gdGhhdCdzIHBhcnQgb2YgdGhlIFZ1ZXRpZnkgcGFja2FnZS4gRWFjaCBydWxlIGlzIGEgbGlzdCBvZiBmdW5jdGlvbnMNCiAgICAgIC8vIChub3RlIHRoZSBmYXQgYXJyb3dzKS4gVnVldGlmeSBpbnZva2VzIGFsbCBmdW5jdGlvbnMgaW4gdGhlIGxpc3QsDQogICAgICAvLyBwYXNzaW5nIGl0IHRoZSBjb250ZW50IG9mIHRoZSBhc3NvY2lhdGVkIGZvcm0gZmllbGQuIEZ1bmN0aW9ucyBzaG91bGQNCiAgICAgIC8vIHJldHVybiBlaXRoZXIgdHJ1ZSAodGhlIGZpZWxkIHBhc3NlcyB0aGF0IHZhbGlkYXRpb24pIG9yIGEgc3RyaW5nDQogICAgICAvLyBjb250YWluaW5nIGFuIGVycm9yIG1lc3NhZ2UgaW5kaWNhdGluZyB3aHkgdGhlIGZpZWxkIGRvZXNuJ3QgcGFzcyB2YWxpZGF0aW9uLg0KICAgICAgcnVsZXM6IHsNCiAgICAgICAgcmVxdWlyZWQ6IFsodmFsKSA9PiB2YWwubGVuZ3RoID4gMCB8fCAiUmVxdWlyZWQiXSwNCiAgICAgICAgZW1haWw6IFsNCiAgICAgICAgICAodmFsKSA9PiAvXHd7Myx9QFx3ezMsfSg/Oi5cd3szLH0pKyQvLnRlc3QodmFsKSB8fCAiSW52YWxpZCBlLW1haWwiLA0KICAgICAgICBdLA0KICAgICAgICBwYXNzd29yZDogWw0KICAgICAgICAgICh2YWwpID0+IC9bQS1aXS8udGVzdCh2YWwpIHx8ICJOZWVkIHVwcGVyIGNhc2UgbGV0dGVyIiwNCiAgICAgICAgICAodmFsKSA9PiAvW2Etel0vLnRlc3QodmFsKSB8fCAiTmVlZCBsb3dlciBjYXNlIGxldHRlciIsDQogICAgICAgICAgKHZhbCkgPT4gL1xkLy50ZXN0KHZhbCkgfHwgIk5lZWQgZGlnaXQiLA0KICAgICAgICAgICh2YWwpID0+IHZhbC5sZW5ndGggPj0gOCB8fCAiTWluaW11bSA4IGNoYXJhY3RlcnMiLA0KICAgICAgICBdLA0KICAgICAgICBuZXdQYXNzd29yZDogWw0KICAgICAgICAgICh2YWwpID0+IC9bQS1aXS8udGVzdCh2YWwpIHx8ICJOZWVkIHVwcGVyIGNhc2UgbGV0dGVyIiwNCiAgICAgICAgICAodmFsKSA9PiAvW2Etel0vLnRlc3QodmFsKSB8fCAiTmVlZCBsb3dlciBjYXNlIGxldHRlciIsDQogICAgICAgICAgKHZhbCkgPT4gL1xkLy50ZXN0KHZhbCkgfHwgIk5lZWQgZGlnaXQiLA0KICAgICAgICAgICh2YWwpID0+IHZhbC5sZW5ndGggPj0gOCB8fCAiTWluaW11bSA4IGNoYXJhY3RlcnMiLA0KICAgICAgICBdLA0KICAgICAgICBjb25maXJtTmV3UGFzc3dvcmQ6IFsNCiAgICAgICAgICAgICh2YWwpID0+IHZhbCA9PSB0aGlzLm5ld1Bhc3N3b3JkIHx8ICJQYXNzd29yZHMgZG8gbm90IG1hdGNoIiwNCiAgICAgICAgXSwNCiAgICAgIH0sDQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8vIEludm9rZWQgd2hlbiB0aGUgdXNlciBjbGlja3MgdGhlICdTaWduIFVwJyBidXR0b24uDQogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiAoKSB7DQogICAgICAvLyBIYXZlbid0IGJlZW4gc3VjY2Vzc2Z1bCB5ZXQuDQogICAgICB0aGlzLnBhc3N3b3JkQ2hhbmdlZCA9IGZhbHNlOw0KDQogICAgICAvLyBQb3N0IHRoZSBjb250ZW50IG9mIHRoZSBmb3JtIHRvIHRoZSBIYXBpIHNlcnZlci4NCiAgICAgIHRoaXMuJGF4aW9zDQogICAgICAgIC5wYXRjaCgiL2FjY291bnRzIiwgew0KICAgICAgICAgIGVtYWlsOiB0aGlzLnVwZGF0ZU1lbWJlci5lbWFpbCwNCiAgICAgICAgICBwYXNzd29yZDogdGhpcy51cGRhdGVNZW1iZXIucGFzc3dvcmQsDQogICAgICAgICAgbmV3UGFzc3dvcmQ6IHRoaXMudXBkYXRlTWVtYmVyLm5ld1Bhc3N3b3JkLA0KICAgICAgICAgIGNvbmZpcm1OZXdQYXNzd29yZDogdGhpcy51cGRhdGVNZW1iZXIuY29uZmlybU5ld1Bhc3N3b3JkDQogICAgICAgIH0pDQogICAgICAgIC50aGVuKChyZXN1bHQpID0+IHsNCiAgICAgICAgICAvLyBCYXNlZCBvbiB3aGV0aGVyIHRoaW5ncyB3b3JrZWQgb3Igbm90LCBzaG93IHRoZQ0KICAgICAgICAgIC8vIGFwcHJvcHJpYXRlIGRpYWxvZy4NCiAgICAgICAgICBpZiAocmVzdWx0LmRhdGEub2spIHsNCiAgICAgICAgICAgIHRoaXMuc2hvd0RpYWxvZygiU3VjY2VzcyIsIHJlc3VsdC5kYXRhLm1zZ2UpOw0KICAgICAgICAgICAgdGhpcy5wYXNzd29yZENoYW5nZWQgPSB0cnVlOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLnNob3dEaWFsb2coIlNvcnJ5IiwgcmVzdWx0LmRhdGEubXNnZSk7DQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKGVycikgPT4gdGhpcy5zaG93RGlhbG9nKCJGYWlsZWQiLCBlcnIpKTsNCiAgICB9LA0KDQogICAgLy8gSGVscGVyIG1ldGhvZCB0byBkaXNwbGF5IHRoZSBkaWFsb2cgYm94IHdpdGggdGhlIGFwcHJvcHJpYXRlIGNvbnRlbnQuDQogICAgc2hvd0RpYWxvZzogZnVuY3Rpb24gKGhlYWRlciwgdGV4dCkgew0KICAgICAgdGhpcy5kaWFsb2dIZWFkZXIgPSBoZWFkZXI7DQogICAgICB0aGlzLmRpYWxvZ1RleHQgPSB0ZXh0Ow0KICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsNCiAgICB9LA0KDQogICAgLy8gSW52b2tlZCBieSB0aGUgIk9rYXkiIGJ1dHRvbiBvbiB0aGUgZGlhbG9nOyBkaXNtaXNzIHRoZSBkaWFsb2cNCiAgICAvLyBhbmQgbmF2aWdhdGUgdG8gdGhlIGhvbWUgcGFnZS4NCiAgICBoaWRlRGlhbG9nOiBmdW5jdGlvbiAoKSB7DQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsNCiAgICAgIGlmICh0aGlzLnBhc3N3b3JkQ2hhbmdlZCkgew0KICAgICAgICAvLyBPbmx5IG5hdmlnYXRlIGF3YXkgZnJvbSB0aGUgc2lnbi11cCBwYWdlIGlmIHdlIHdlcmUgc3VjY2Vzc2Z1bC4NCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAiaG9tZS1wYWdlIiB9KTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["ResetPassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ResetPassword.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n  <v-container>\r\n    <div>\r\n      <h4 class=\"display-1\">Change Password</h4>\r\n\r\n      <instructions details=\"Change your password for our nifty site.\" />\r\n\r\n      <v-form v-model=\"valid\">\r\n        <v-text-field\r\n          v-model=\"updateMember.email\"\r\n          v-bind:rules=\"rules.required\"\r\n          label=\"Email\"\r\n        ></v-text-field>\r\n        <v-text-field\r\n          v-model=\"updateMember.password\"\r\n          v-bind:rules=\"rules.required\"\r\n          label=\"Current Password\"\r\n        ></v-text-field>\r\n        <v-text-field\r\n          v-model=\"updateMember.newPassword\"\r\n          v-bind:rules=\"rules.newPassword\"\r\n          error-count=\"10\"\r\n          type=\"email\"\r\n          label=\"Your new password\"\r\n        ></v-text-field>\r\n         <v-text-field\r\n          v-model=\"updateMember.confirmNewPassword\"\r\n          v-bind:rules=\"rules.newPassword\"\r\n          error-count=\"10\"\r\n          type=\"email\"\r\n          label=\"Confirm new password\"\r\n        ></v-text-field>\r\n        <v-btn v-bind:disabled=\"!valid\" v-on:click=\"handleSubmit\"\r\n          >Change Password\r\n        </v-btn>\r\n      </v-form>\r\n\r\n      <div class=\"text-xs-center\">\r\n        <v-dialog v-model=\"dialogVisible\" width=\"500\">\r\n          <v-card>\r\n            <v-card-title primary-title>\r\n              {{ dialogHeader }}\r\n            </v-card-title>\r\n\r\n            <v-card-text>\r\n              {{ dialogText }}\r\n            </v-card-text>\r\n\r\n            <v-divider></v-divider>\r\n\r\n            <v-card-actions>\r\n              <v-spacer></v-spacer>\r\n              <v-btn color=\"primary\" text v-on:click=\"hideDialog\">Okay</v-btn>\r\n            </v-card-actions>\r\n          </v-card>\r\n        </v-dialog>\r\n      </div>\r\n    </div>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport Instructions from \"../components/Instructions.vue\";\r\n\r\nexport default {\r\n  name: \"ChangePasswordPage\",\r\n  components: {\r\n    Instructions, // Use the Instructions component we just imported\r\n  },\r\n  data: function () {\r\n    return {\r\n      valid: false, // Are all the fields in the form valid?\r\n\r\n      // Object to collect account data\r\n      updateMember: {\r\n        email: \"\",\r\n        password: \"\",\r\n        newPassword: \"\",\r\n        confirmNewPassword: \"\",\r\n      },\r\n\r\n      // Was an account created successfully?\r\n      accountUpdated: false,\r\n\r\n      // Data to be displayed by the dialog.\r\n      dialogHeader: \"<no dialogHeader>\",\r\n      dialogText: \"<no dialogText>\",\r\n      dialogVisible: false,\r\n\r\n      // Validation rules for the form fields. This functionality is an extension\r\n      // that's part of the Vuetify package. Each rule is a list of functions\r\n      // (note the fat arrows). Vuetify invokes all functions in the list,\r\n      // passing it the content of the associated form field. Functions should\r\n      // return either true (the field passes that validation) or a string\r\n      // containing an error message indicating why the field doesn't pass validation.\r\n      rules: {\r\n        required: [(val) => val.length > 0 || \"Required\"],\r\n        email: [\r\n          (val) => /\\w{3,}@\\w{3,}(?:.\\w{3,})+$/.test(val) || \"Invalid e-mail\",\r\n        ],\r\n        password: [\r\n          (val) => /[A-Z]/.test(val) || \"Need upper case letter\",\r\n          (val) => /[a-z]/.test(val) || \"Need lower case letter\",\r\n          (val) => /\\d/.test(val) || \"Need digit\",\r\n          (val) => val.length >= 8 || \"Minimum 8 characters\",\r\n        ],\r\n        newPassword: [\r\n          (val) => /[A-Z]/.test(val) || \"Need upper case letter\",\r\n          (val) => /[a-z]/.test(val) || \"Need lower case letter\",\r\n          (val) => /\\d/.test(val) || \"Need digit\",\r\n          (val) => val.length >= 8 || \"Minimum 8 characters\",\r\n        ],\r\n        confirmNewPassword: [\r\n            (val) => val == this.newPassword || \"Passwords do not match\",\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    // Invoked when the user clicks the 'Sign Up' button.\r\n    handleSubmit: function () {\r\n      // Haven't been successful yet.\r\n      this.passwordChanged = false;\r\n\r\n      // Post the content of the form to the Hapi server.\r\n      this.$axios\r\n        .patch(\"/accounts\", {\r\n          email: this.updateMember.email,\r\n          password: this.updateMember.password,\r\n          newPassword: this.updateMember.newPassword,\r\n          confirmNewPassword: this.updateMember.confirmNewPassword\r\n        })\r\n        .then((result) => {\r\n          // Based on whether things worked or not, show the\r\n          // appropriate dialog.\r\n          if (result.data.ok) {\r\n            this.showDialog(\"Success\", result.data.msge);\r\n            this.passwordChanged = true;\r\n          } else {\r\n            this.showDialog(\"Sorry\", result.data.msge);\r\n          }\r\n        })\r\n        .catch((err) => this.showDialog(\"Failed\", err));\r\n    },\r\n\r\n    // Helper method to display the dialog box with the appropriate content.\r\n    showDialog: function (header, text) {\r\n      this.dialogHeader = header;\r\n      this.dialogText = text;\r\n      this.dialogVisible = true;\r\n    },\r\n\r\n    // Invoked by the \"Okay\" button on the dialog; dismiss the dialog\r\n    // and navigate to the home page.\r\n    hideDialog: function () {\r\n      this.dialogVisible = false;\r\n      if (this.passwordChanged) {\r\n        // Only navigate away from the sign-up page if we were successful.\r\n        this.$router.push({ name: \"home-page\" });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}