{"remainingRequest":"/mnt/c/Users/matth/git/cos243/ride-share/node_modules/babel-loader/lib/index.js!/mnt/c/Users/matth/git/cos243/ride-share/node_modules/cache-loader/dist/cjs.js??ref--0-0!/mnt/c/Users/matth/git/cos243/ride-share/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/c/Users/matth/git/cos243/ride-share/src/pages/BecomeADriver.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/c/Users/matth/git/cos243/ride-share/src/pages/BecomeADriver.vue","mtime":1605832797600},{"path":"/mnt/c/Users/matth/git/cos243/ride-share/node_modules/cache-loader/dist/cjs.js","mtime":1605136929726},{"path":"/mnt/c/Users/matth/git/cos243/ride-share/node_modules/babel-loader/lib/index.js","mtime":1605643974154},{"path":"/mnt/c/Users/matth/git/cos243/ride-share/node_modules/cache-loader/dist/cjs.js","mtime":1605136929726},{"path":"/mnt/c/Users/matth/git/cos243/ride-share/node_modules/vue-loader/lib/index.js","mtime":1605643980647}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbWFpbDogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgc25hY2tiYXI6IHsKICAgICAgICBzaG93OiBmYWxzZSwKICAgICAgICBtc2dlOiAiIgogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbG9nSW46IGZ1bmN0aW9uIGxvZ0luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kYXhpb3MucG9zdCgiL2xvZ2luIiwgewogICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIF90aGlzLnNob3dTbmFja2JhcihyZXN1bHQuZGF0YS5tc2dlKTsKCiAgICAgICAgaWYgKHJlc3VsdC5kYXRhLm9rKSB7CiAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCJsb2dJbiIsIHJlc3VsdC5kYXRhLmRldGFpbHMpOwoKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICJob21lLXBhZ2UiCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICByZXR1cm4gX3RoaXMuc2hvd1NuYWNrYmFyKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZERyaXZlcjogZnVuY3Rpb24gYWRkRHJpdmVyKCkgewogICAgICB0aGlzLiRhbGVydCgiRHJpdmVyIEFwcGxpY2F0aW9uIFN1Ym1pdHRlZCIsICJTdWNjZXNzIiwgInN1Y2Nlc3MiKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJob21lLXBhZ2UiCiAgICAgIH0pOwogICAgfSwKICAgIGxlZ2l0QWRkRHJpdmVyOiBmdW5jdGlvbiBsZWdpdEFkZERyaXZlcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRheGlvcy5wb3N0KCIvYmVjb21lLWRyaXZlciIsIHsKICAgICAgICBpZDogdGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudEFjY291bnQuaWQsCiAgICAgICAgbGljZW5zZU51bWJlcjogdGhpcy5saWNlbnNlTnVtYmVyLAogICAgICAgIGxpY2Vuc2VTdGF0ZTogdGhpcy5saWNlbnNlU3RhdGUKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgX3RoaXMyLnNob3dTbmFja2JhcihyZXN1bHQuZGF0YS5tc2dlKTsKCiAgICAgICAgaWYgKHJlc3VsdC5kYXRhLm9rKSB7CiAgICAgICAgICBfdGhpczIuJHN0b3JlLmNvbW1pdCgiYmVjb21lRHJpdmVyIik7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi5zaG93U25hY2tiYXIoZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgc3Bvb2ZBZGREcml2ZXI6IGZ1bmN0aW9uIHNwb29mQWRkRHJpdmVyKCkgewogICAgICB0aGlzLnNob3dTbmFja2JhcigiWW91IGFyZSBub3cgYSBkcml2ZXIhIik7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiYmVjb21lRHJpdmVyIik7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiaG9tZS1wYWdlIgogICAgICB9KTsKICAgIH0sCiAgICBzaG93U25hY2tiYXI6IGZ1bmN0aW9uIHNob3dTbmFja2Jhcihtc2dlKSB7CiAgICAgIHRoaXMuc25hY2tiYXIubXNnZSA9IG1zZ2U7CiAgICAgIHRoaXMuc25hY2tiYXIuc2hvdyA9IHRydWU7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["BecomeADriver.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAIA,MAAA,QAAA,EAAA;AACA,QAAA,IAAA,EAAA,KADA;AAEA,QAAA,IAAA,EAAA;AAFA;AAJA,KAAA;AASA,GAXA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AACA,WAAA,MAAA,CACA,IADA,CACA,QADA,EACA;AACA,QAAA,KAAA,EAAA,KAAA,KADA;AAEA,QAAA,QAAA,EAAA,KAAA;AAFA,OADA,EAKA,IALA,CAKA,UAAA,MAAA,EAAA;AACA,QAAA,KAAA,CAAA,YAAA,CAAA,MAAA,CAAA,IAAA,CAAA,IAAA;;AACA,YAAA,MAAA,CAAA,IAAA,CAAA,EAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,OAAA,EAAA,MAAA,CAAA,IAAA,CAAA,OAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA;AACA;AACA,OAXA,EAYA,KAZA,CAYA,UAAA,GAAA;AAAA,eAAA,KAAA,CAAA,YAAA,CAAA,GAAA,CAAA;AAAA,OAZA;AAaA,KAfA;AAkBA,IAAA,SAlBA,uBAkBA;AACA,WAAA,MAAA,CAAA,8BAAA,EAAA,SAAA,EAAA,SAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KArBA;AAuBA,IAAA,cAvBA,4BAuBA;AAAA;;AACA,WAAA,MAAA,CACA,IADA,CACA,gBADA,EACA;AACA,QAAA,EAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,cAAA,CAAA,EADA;AAEA,QAAA,aAAA,EAAA,KAAA,aAFA;AAGA,QAAA,YAAA,EAAA,KAAA;AAHA,OADA,EAMA,IANA,CAMA,UAAA,MAAA,EAAA;AACA,QAAA,MAAA,CAAA,YAAA,CAAA,MAAA,CAAA,IAAA,CAAA,IAAA;;AACA,YAAA,MAAA,CAAA,IAAA,CAAA,EAAA,EAAA;AACA,UAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,cAAA;AACA;AACA,OAXA,EAYA,KAZA,CAYA,UAAA,GAAA;AAAA,eAAA,MAAA,CAAA,YAAA,CAAA,GAAA,CAAA;AAAA,OAZA;AAaA,KArCA;AAuCA,IAAA,cAvCA,4BAuCA;AACA,WAAA,YAAA,CAAA,uBAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,cAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KA3CA;AA6CA,IAAA,YA7CA,wBA6CA,IA7CA,EA6CA;AACA,WAAA,QAAA,CAAA,IAAA,GAAA,IAAA;AACA,WAAA,QAAA,CAAA,IAAA,GAAA,IAAA;AACA;AAhDA;AAbA,CAAA","sourcesContent":["<template>\n  <v-container>\n    <v-row justify=\"center\">\n      <v-col cols=\"12\" sm=\"8\" md=\"6\">\n        <v-card class=\"elevation-12\">\n          <v-toolbar color=\"primary\" dark flat>\n            <v-toolbar-title>Become A Driver</v-toolbar-title>\n          </v-toolbar>\n          <v-card-text>\n            <v-form>\n              <v-text-field\n                v-model=\"licenseNumber\"\n                label=\"License Number\"\n                name=\"licenseNumber\"\n                type=\"text\"\n              />\n              <v-text-field\n                v-model=\"licenseState\"\n                label=\"License State (e.g. 'AZ', 'IN', 'NY')\"\n                name=\"LicenseState\"\n                type=\"text\"\n              />\n            </v-form>\n          </v-card-text>\n          <v-card-actions>\n            <v-spacer />\n            <v-btn v-on:click=\"addDriver\" color=\"primary\">Log In</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-col>\n    </v-row>\n\n    <v-snackbar v-model=\"snackbar.show\">\n      {{ snackbar.msge }}\n      <v-btn text color=\"primary\" @click=\"snackbar.show = false\">Close</v-btn>\n    </v-snackbar>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n\n      snackbar: {\n        show: false,\n        msge: \"\",\n      },\n    };\n  },\n\n  methods: {\n    logIn() {\n      this.$axios\n        .post(\"/login\", {\n          email: this.email,\n          password: this.password,\n        })\n        .then((result) => {\n          this.showSnackbar(result.data.msge);\n          if (result.data.ok) {\n            this.$store.commit(\"logIn\", result.data.details);\n            this.$router.push({ name: \"home-page\" });\n          }\n        })\n        .catch((err) => this.showSnackbar(err));\n    },\n\n\n    addDriver() {\n      this.$alert(\"Driver Application Submitted\", \"Success\", \"success\")\n      this.$router.push({ name: \"home-page\" });\n    },\n\n    legitAddDriver() {\n      this.$axios\n        .post(\"/become-driver\", {\n          id: this.$store.state.currentAccount.id,\n          licenseNumber: this.licenseNumber,\n          licenseState: this.licenseState\n        })\n        .then((result) =>{\n          this.showSnackbar(result.data.msge);\n          if (result.data.ok) {\n            this.$store.commit(\"becomeDriver\")\n          }\n        })\n        .catch((err) => this.showSnackbar(err));\n    },\n\n    spoofAddDriver() {\n      this.showSnackbar(\"You are now a driver!\");\n      this.$store.commit(\"becomeDriver\")\n      this.$router.push({ name: \"home-page\" });\n    },\n\n    showSnackbar(msge) {\n      this.snackbar.msge = msge;\n      this.snackbar.show = true;\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/pages"}]}